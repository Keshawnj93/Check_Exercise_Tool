<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <title>Check Exercise Tool</title>
        <style type="text/css">
            .container {
                width: 98%;
                padding: 0px;
                margin: 2px auto;
            }
            .yellow-border {
                border:1px solid #f6912f;
            }
            .blue-button {
                background-color:#6193cb;
                color: #fff;
                padding: 6px;
                border-radius:2px;
                border:none;
            }
            .centered-text {
                text-align: center;
            }
            #title {
                background-color:goldenrod;
                color: #fff;
                border: none;
            }
            .editor-container {
                width: 98%;
                height: 420px;
                margin: 3px auto;
                
            }
            
            .input-container {
                height:40px;
                display:block;
            }
            
        </style>
        
        
        <script src="helperScripts.js" type="text/javascript" charset="utf-8"></script>
    </h:head>
    <h:body>
        <h:form id="form">
        <div id="title" class="container centered-text">
            CheckExercise: Exercise01_01.Java
        </div>
        <div class="container yellow-border centered-text">
            Choose a chapter: <select id="chapterMenu" onchange="updateMenu()"></select> Choose an exercise: <select id="exerciseMenu"><option>Chapter 1</option><option>Chapter 2</option><option>Chapter 3</option></select>
            <button class="blue-button">
                Set Exercise
            </button>
        </div>
        
        <div id="editor" class="editor-container yellow-border">#{checkExerciseBean.code}</div>
        
            
        <h:inputTextarea class="yellow-border input-container container" value="#{checkExerciseBean.sampleInput}"/>
        
        <div class="container">
        
                <h:commandButton class="blue-button" action="#{checkExerciseBean.compileAndRun()}" value="Compile/Run" />
                <!-- Compile/run
                </button> -->
                <button class="blue-button">
                    Automatic Check
                </button>
         
                <h:inputTextarea class="yellow-border input-container container" readonly="true" value ="#{checkExerciseBean.output}"/>
                
                <h:inputTextarea id="sourceInputTextarea" rendered ="true" required="true"
                                 value="#{checkExerciseBean.code}" style="display: none;"></h:inputTextarea> 
                  
        </div>
        </h:form>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.5/ace.js" type="text/javascript" charset="utf-8"></script>
        <script>
            buildChapterMenu();
            updateMenu();
            var textarea = document.getElementById('form:sourceInputTextarea');
            var editor = ace.edit("editor");
            editor.setTheme("ace/theme/github");
            editor.getSession().setMode("ace/mode/java");
            
            editor.getSession().on('change', function() {
                var code = editor.getSession().getValue()
                textarea.value = code;
            });
            
            //textarea.val(editor.getSession().getValue());
        </script>
    </h:body>
</html>

